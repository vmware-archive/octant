import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs';
import { argTypesView } from "./helpers/helpers";

export const iconDocs= {source: {code: `c := component.NewIcon("user")
c.Config.Inverse = false
c.Config.Size = "md"
c.Config.Direction = component.DirectionDown
c.Config.Flip = component.FlipHorizontal
c.Config.Badge = component.BadgeDanger
c.Config.AddLabel("label for accessibility")
`}}

export const iconView = {
  metadata: {
    type: 'icon',
  },
  config: {
    shape: "user",
    size: "md",
    direction: "up",
    flip: "horizontal",
    solid: true,
    status: "danger",
    inverse: false,
    badge: "danger",
    color: "",
    badgeColor: "",
    label: "label for accessibility",
  }
};

export const iconWithTooltipView=  {
  metadata: {
    type: 'icon',
  },
  config: {
    shape: "user",
    size: "",
    direction: "",
    flip: "",
    solid: false,
    status: "",
    inverse: false,
    badge: "",
    color: "#2596be",
    badgeColor: "",
    label: "",
    tooltip: {
      message: "hello",
      size: "md",
      position: "right",
    }
  }
};

export const svg = `
<svg width="300" height="200">
  <polygon points="100,10 40,198 190,78 10,78 160,198"style="fill:lime;stroke:purple;stroke-width:5;fill-rule:evenodd;" />
</svg>
`;

export const iconWithSvgView = {
  metadata: {
    type: 'icon',
  },
  config: {
    shape: "custom-svg",
    size: "200",
    direction: "",
    flip: "",
    solid: false,
    status: "",
    inverse: false,
    badge: "",
    color: "",
    badgeColor: "",
    label: "",
    customSvg: svg,
  }
};

export const IconStoryTemplate = args => ({
  template: `<app-view-icon [view]= "view" ></app-view-icon>`,
  argTypes: argTypesView,
  props: { view: args.view },
});

export const iconWithTooltipDocs = {source: {code: `
i := component.NewIcon("user", component.WithTooltip("hello", component.TooltipMedium, component.TooltipRight)
i.Config.Color = "#2596be"
`}}

export const iconWithSvgDocs = {source: {code: `
i := component.NewIcon("my-custom-icon")
<svg width="300" height="200"><polygon points="100,10 40,198 190,78 10,78 160,198"style="fill:lime;stroke:purple;stroke-width:5;fill-rule:evenodd;" /></svg>
i.SetCustomSvg(svg)
i.SetSize("200")
`}}

<h1>Icon Component</h1>
<h2>Description</h2>
<p>An Icon component is use to display icons use the API from <a href="https://clarity.design/foundation/icons/api/#icon-properties"> Clarity 5 </a></p>

<h2>Example</h2>

<Meta title="Components/Icon" />

<Canvas withToolbar>
  <Story name="Icon component"
         parameters={{ docs: iconDocs }}
         args={{ view: iconView }}>
    { IconStoryTemplate.bind({}) }
  </Story>
</Canvas>

<h2>Props</h2>
<ArgsTable story = "Icon component" />

<h2>Icon with tooltip</h2>
<p>An icon can be configured with a tooltip to display a message on hover.</p>

<Canvas withToolbar>
  <Story name="Icon with tooltip"
         parameters={{ docs: iconWithTooltipDocs }}
         args={{ view: iconWithTooltipView }}>
    { IconStoryTemplate.bind({}) }
  </Story>
</Canvas>

<h2>Props</h2>
<ArgsTable story = "Icon with tooltip" />

<h2>Icon with SVG</h2>
<p>An icon can be configured to use a custom SVG. Remember to set the size of the icon otherwise it might not be shown</p>
<p>It's possible to have a naming collision with Clarity icons, it's recommended to use non-common names for the svg</p>

<Canvas withToolbar>
  <Story name="Icon with SVG"
         parameters={{ docs: iconWithSvgDocs }}
         args={{ view: iconWithSvgView }}>
    { IconStoryTemplate.bind({}) }
  </Story>
</Canvas>

<h2>Props</h2>
<ArgsTable story = "Icon with SVG" />

