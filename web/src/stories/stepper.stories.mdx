import {Meta, Preview, Props, Story} from '@storybook/addon-docs';
import { argTypesView } from "./helpers/helpers";

export const stepperDocs = {
  source: {code: `title = "Example Stepper" component.NewStepper()`},
};

export const stepperView = {
  metadata: {
    type: 'stepper',
  },
  config: {
    action: 'octant.dev/test-action',
    steps: [
      {
        title: 'Contact Information',
        description: 'Personal contact information.',
        name: 'contact',
        form: {
          fields: [
            {
              placeholder: 'First name',
              label: 'First Name',
              name: 'firstName',
              type: 'text',
              value: '',
              error: 'First name is required and it should be more than 10 chars.',
              validators: {
                required: "",
                minLength: "10"
              },
            },
            {
              placeholder: 'Age',
              label: 'Age',
              name: 'age',
              type: 'number',
              value: '',
              error: 'Need to be older than 21',
              validators: {
                required: "",
                min: "21"
              },
            },
            {
              label: 'Last Name',
              name: 'lastName',
              type: 'text',
              value: '',
            },
          ],
        },
      },
      {
        title: 'More Information',
        description: 'Extended information.',
        name: 'extended',
        form: {
          fields: [
            {
              label: 'City',
              name: 'city',
              type: 'text',
              value: '',
              error: 'City should not have numbers.',
              validators: {
                required: "",
                pattern: "[a-zA-Z ]*"
              },
            },
            {
              label: 'State',
              name: 'state',
              type: 'select',
              error: 'State is required',
              validators: {
                required: ""
              },
              configuration: {
                choices: [
                  {label: '', value: ''},
                  {label: 'North Carolina', value: 'NC'},
                ],
              },
            },
          ],
        },
      },
    ],
  },
};

export const StepperStoryTemplate = args => ({
  template: `<app-stepper [view]= "view"></app-stepper>`,
  argTypes: argTypesView,
  props: { view: args.view },
});

<h1>Stepper component</h1>
<h2>Description</h2>

<p>The Stepper component provides guided steps to a user</p>
<h2>Example</h2>

<Meta title="Components/Stepper" argTypes = { argTypesView } />

<Preview withToolbar>
  <Story
    name="Stepper component"
    parameters={{docs: stepperDocs}}
    args= {{ view: stepperView }}>
    { StepperStoryTemplate.bind({}) }
  </Story>
</Preview>

<h2>Props</h2>
<Props story = "Stepper component"/>
